<div class="container col-md-offset-2 margin-top">
    <div class="row">
        <div class="col-md-12">
            <div class="widget-simple-chart card-box">
				<?php if (isset($error)){ ?>
						<div id="hidemesage" class="col-md-12">
							<div class="alert alert-dismissible alert-danger">
								<button type="button" class="close" data-dismiss="alert">&times;</button>
								<?= $error; ?>
							</div>
						</div>
				<?php } ?>

				<div class="col-md-12 divider"><h6><?= $id?'Edit':'New'?> Hot Link</h6></div>

				<form class="form-horizontal" method="post" action="" enctype="multipart/form-data">
					<input type="hidden" name="csrf_token" value="<?=Session::GetInstance()->csrf;?>">
					<div class="form-group" >
						<label class="col-lg-2 control-label">Title<span style="color: #ff0000;"> *</span></label>
						<div class="col-lg-6">
							<input class="form-control" id="title" type="text" placeholder="Title" name="title"  required value="<?= $id ? $edit[0]['title'] : (htmlspecialchars($_POST['title']??''));?>">
						</div>
					</div>
					<div class="form-group">
						<label class="col-lg-2 control-label">Alternate Name</label>
						<div class="col-lg-6">
							<input class="form-control" type="text" placeholder="Alternate Name" name="alternate_name"  value="<?= $id ? $edit[0]['alternate_name'] : (htmlspecialchars($_POST['alternate_name']??''));?>">
						</div>
					</div>
					<div class="form-group">
						<label class="col-lg-2 control-label">Cover Image</label>
						<div class="col-lg-6">
							<input class="text-box ignore" name="image_file" id="Image" type="file" accept=".jpg,.jpeg,.png" >

							<p><span style="color: #FF0000; ">Note :You can add .jpg,.jpeg,.png format. Maximum Image size allowed is 50px wide x 50px high.</span></p>
						<?php 	if($id>0){ ?>
									<p><img src="<?= $edit[0]['image']; ?>" alt="Quick link cover image" height='60'></p>
						<?php	}	?>
                        </div>
					</div>
					<div class="form-group">
						<label class="col-lg-2 control-label">Link Type</label>
						<div  id="cp2" class="col-lg-6 input-group colorpicker-component ">
							<label class="radio-inline">
							  <input onclick="showExternal();" value='1' type="radio" <?= $id ? $edit[0]['link_type']==1 ? 'checked' : '' : '' ; ?> required name="link_type">External Link
							  </label>
							<label class="radio-inline">
							  <input onclick="showAttachment();" value='2' <?= $id ? $edit[0]['link_type']==2 ? 'checked' : '' : '' ; ?> type="radio" name="link_type">Attachment
							</label>
						</div>
					</div>

					<div class="form-group" id='ext-div' <?=  ($id >0 && $edit[0]['link_type']==1)? '' : 'style="display:none"';?>>
						<label class="col-lg-2 control-label">External Link</label>
						<div class="col-lg-6">
							<input class="form-control" id='external' type="url" placeholder="https://external.link" name="link" value="<?= $id ? $edit[0]['link'] : (htmlspecialchars($_POST['link']??''));?>">
						</div>
					</div>

					<div class="form-group" id='att-div' <?=  ($id >0 && $edit[0]['link_type']==2)? '' : 'style="display:none"'; ?>>
						<label class="col-lg-2 control-label">Attachment</label>
						<div class="col-lg-6">
							<input id="attachment" type="file" name="link_file" accept=".pdf,.xls, .xlsx, .doc,.docx,.png,.jpeg,.jpg"  >
							<?php 	if($id>0 && $edit[0]['link']!=""){ ?>
									<p><a href="<?= $edit[0]['link']; ?>" target="_blank" rel="noopener noreferrer">Attachment Link</a></p>
							<?php	}	?>
						</div>
					</div>


					<div class="form-group">
								<label class="col-lg-2 control-label"></label>
								<div class="col-lg-6">
						
									<button type="button" onclick="goBack()" class="btn btn-primary">Cancel</button>
									<button type="reset" class="btn btn-primary">Reset</button>
									<button type="submit" id="submit" name="submit" class="btn btn-primary">Submit</button>
								</div>
							</div>


				</form>
			</div>
		</div>
	</div>
</div>
<script>
function showExternal(){
	$("#ext-div").show();
	$("#att-div").hide();
	$("#external").prop('required',true);
	$("#attachment").prop('required',false);
	$("#attachment").val('');
}
function showAttachment(){
	$("#ext-div").hide();
	$("#att-div").show();
	$("#external").prop('required',false);
	$("#external").val('');
	$("#attachment").prop('required',true);
}

$( "#title" ).on('input', function() {
	if ($(this).val().length>24) {
		$(this).val($(this).val().substring(0,24));
		swal.fire({title: 'Error!',text:'Maximum 24 characters allowed!'});
	}
});
</script>

	</body>
</html>
